<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backroads 2025 Itinerary</title>
    <!-- Use Tailwind CSS for a clean, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Font Awesome for icons to make it visual -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        /* The main body text will use Inter for readability */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f7f9;
        }
        /* Style for the main container to ensure it's centered and has padding */
        .container {
            max-width: 80rem; /* Adjusted for better wide-screen viewing */
            background-color: white; 
            border-radius: 1rem;
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #e2e8e0;
        }
        ::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 4px;
        }
        .ai-button:hover {
            transform: scale(1.05);
        }
        .ai-button:active {
            transform: scale(0.95);
        }
        /* Apply the specific font to the main title */
        .title-font {
            font-family: 'Pacifico', cursive;
        }
        /* Modal styling */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
        }
        /* Video Intro Modal Styles */
        .video-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 1;
            transition: opacity 1s ease-in-out;
        }
        .video-modal video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .hidden-content {
            display: none;
        }
        .fade-out {
            opacity: 0;
            pointer-events: none;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <!-- Video Intro Modal -->
    <div id="video-intro-modal" class="video-modal">
        <video id="intro-video" src="./BROpen.MP4" autoplay muted playsinline></video>
    </div>

    <!-- Main Content -->
    <div id="main-content" class="hidden-content">
        <div class="container mx-auto p-8 lg:p-12">
            <!-- Today Button -->
            <button id="today-button" class="fixed bottom-4 right-4 bg-purple-500 text-white font-bold py-3 px-6 rounded-full shadow-lg hover:bg-purple-600 transition-all duration-200 z-10">
                Today
            </button>
            
            <!-- Main Header Section -->
            <header class="text-center mb-12">
                <!-- Replaced the h1 with an image from the provided file -->
                <img src="./TheBackroads Bunch.jpeg" alt="The Backroads Bunch 2025" class="mx-auto my-4 w-auto h-32 md:h-48">
                <p class="text-xl text-gray-600 mt-2">Lisbon, Porto, and Azores</p>
                <p class="text-sm text-gray-500 mt-1">August 24 - September 6, 2025</p>
                <p class="text-sm text-gray-500 mt-1 font-bold">Fishkind â€¢ Kirschner â€¢ Shefman â€¢ Singer</p>
                <p class="text-sm text-gray-500 mt-2"><a href="https://photos.app.goo.gl/f45Yw6yxGHazHu8JA" target="_blank" class="text-purple-600 hover:underline">Photo Album</a></p>
            </header>

            <!-- Daily Itinerary Cards -->
            <div class="space-y-8">
                <!-- Day 1: Sunday, August 24 -->
                <div id="day-aug-24" class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex flex-col md:flex-row md:justify-between items-start md:items-center mb-4">
                        <div class="flex-grow">
                            <h3 class="text-2xl font-bold text-gray-900">Sunday, August 24</h3>
                        </div>
                    </div>
                    <div class="space-y-4 text-sm">
                        <div class="flex items-center p-3 rounded-lg bg-blue-50">
                            <i class="fas fa-plane-departure text-blue-500 mr-4 text-lg"></i>
                            <div>
                                <p class="font-semibold text-blue-800">Flight: Delta 1707 (DTW-BOS) 
                                    <span id="modal-link-flight1" class="text-xs text-blue-500 cursor-pointer hover:underline ml-2">(Details)</span>
                                </p>
                                <p class="text-gray-600">Departure: 5:45 PM, Arrival: 7:52 PM</p>
                            </div>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-blue-50">
                            <i class="fas fa-plane-departure text-blue-500 mr-4 text-lg"></i>
                            <div>
                                <p class="font-semibold text-blue-800">Flight: Delta 0124 (BOS-LIS)
                                    <span id="modal-link-flight2" class="text-xs text-blue-500 cursor-pointer hover:underline ml-2">(Details)</span>
                                </p>
                                <p class="text-gray-600">Departure: 11:25 PM</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Day 2: Monday, August 25 -->
                <div id="day-aug-25" class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex flex-col md:flex-row md:justify-between items-start md:items-center mb-4">
                        <div class="flex-grow">
                            <h3 class="text-2xl font-bold text-gray-900">Monday, August 25 - Lisbon</h3>
                        </div>
                    </div>
                    <div class="space-y-4 text-sm">
                        <div class="flex items-center p-3 rounded-lg bg-blue-50">
                            <i class="fas fa-plane-arrival text-blue-500 mr-4 text-lg"></i>
                            <div>
                                <p class="font-semibold text-blue-800">Flight Arrival</p>
                                <p class="text-gray-600">Arrival in Lisbon: 10:45 AM</p>
                            </div>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-blue-50">
                            <i class="fas fa-shuttle-van text-blue-500 mr-4 text-lg"></i>
                            <div>
                                <p class="font-semibold text-blue-800">Private Van to Hotel da Baixa
                                    <span id="modal-link-van1" class="text-xs text-blue-500 cursor-pointer hover:underline ml-2">(Details)</span>
                                </p>
                            </div>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-green-50">
                            <i class="fas fa-hotel text-green-500 mr-4 text-lg"></i>
                            <div>
                                <p class="font-semibold text-green-800">Lisbon Hotel da Baixa Check-in
                                    <span id="modal-link-hotel1" class="text-xs text-green-500 cursor-pointer hover:underline ml-2">(Details)</span>
                                </p>
                                <p class="text-gray-600">Check-in from August 25 - 28</p>
                            </div>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-purple-50">
                            <i class="fas fa-route text-purple-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-purple-800">Open--Explore Lisbon
                                <span id="modal-link-explore1" class="text-xs text-purple-500 cursor-pointer hover:underline ml-2">(Details)</span>
                            </p>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-pink-50">
                            <i class="fas fa-utensils text-pink-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-pink-800">Dinner at ROSAMAR Rua da Rosa</p>
                        </div>
                    </div>
                </div>

                <!-- Day 3: Tuesday, August 26 -->
                <div id="day-aug-26" class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex flex-col md:flex-row md:justify-between items-start md:items-center mb-4">
                        <div class="flex-grow">
                            <h3 class="text-2xl font-bold text-gray-900">Tuesday, August 26 - Lisbon</h3>
                        </div>
                    </div>
                    <div class="space-y-4 text-sm">
                        <div class="flex items-center p-3 rounded-lg bg-yellow-50">
                            <i class="fas fa-bicycle text-yellow-500 mr-4 text-lg"></i>
                            <div>
                                <p class="font-semibold text-yellow-800">Tuk Tuk Tour
                                    <span id="modal-link-activity2" class="text-xs text-yellow-500 cursor-pointer hover:underline ml-2">(Details)</span>
                                </p>
                                <p class="text-gray-600">Starts at 10:00 AM</p>
                            </div>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-purple-50">
                            <i class="fas fa-route text-purple-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-purple-800">Open--Explore Lisbon
                                <span id="modal-link-explore2" class="text-xs text-purple-500 cursor-pointer hover:underline ml-2">(Details)</span>
                            </p>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-yellow-50">
                            <i class="fas fa-walking text-yellow-500 mr-4 text-lg"></i>
                            <div>
                                <p class="font-semibold text-yellow-800">Jewish Walking Tour ðŸ‡®ðŸ‡±
                                    <span id="modal-link-activity1" class="text-xs text-yellow-500 cursor-pointer hover:underline ml-2">(Details)</span>
                                </p>
                                <p class="text-gray-600">5:00 PM - 7:00 PM</p>
                            </div>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-pink-50">
                            <i class="fas fa-utensils text-pink-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-pink-800">Dinner at Frou Frou JNCQUOIA</p>
                        </div>
                    </div>
                </div>

                <!-- Day 4: Wednesday, August 27 -->
                <div id="day-aug-27" class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex flex-col md:flex-row md:justify-between items-start md:items-center mb-4">
                        <div class="flex-grow">
                            <h3 class="text-2xl font-bold text-gray-900">Wednesday, August 27 - Lisbon</h3>
                        </div>
                    </div>
                    <div class="space-y-4 text-sm">
                        <div class="flex items-center p-3 rounded-lg bg-yellow-50">
                            <i class="fas fa-castle text-yellow-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-yellow-800">Sintra Tour with Carlos 8:15AM
                                <span id="modal-link-activity3" class="text-xs text-yellow-500 cursor-pointer hover:underline ml-2">(Details)</span>
                            </p>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-pink-50">
                            <i class="fas fa-utensils text-pink-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-pink-800">Dinner at Lumi Rooftop Restaurant</p>
                        </div>
                    </div>
                </div>
                
                <!-- Day 5: Thursday, August 28 -->
                <div id="day-aug-28" class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex flex-col md:flex-row md:justify-between items-start md:items-center mb-4">
                        <div class="flex-grow">
                            <h3 class="text-2xl font-bold text-gray-900">Thursday, August 28 - Travel to Porto</h3>
                        </div>
                    </div>
                    <div class="space-y-4 text-sm">
                        <div class="flex items-center p-3 rounded-lg bg-green-50">
                            <i class="fas fa-hotel text-green-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-green-800">Lisbon Hotel da Baixa Check-out</p>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-yellow-50">
                            <i class="fas fa-van text-yellow-500 mr-4 text-lg"></i>
                            <div>
                                <p class="font-semibold text-yellow-800">Van to Porto with Stops
                                    <span id="modal-link-travel1" class="text-xs text-yellow-500 cursor-pointer hover:underline ml-2">(Details)</span>
                                </p>
                                <p class="text-gray-600">8:00 AM - 5:00 PM</p>
                            </div>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-green-50">
                            <i class="fas fa-hotel text-green-500 mr-4 text-lg"></i>
                            <div>
                                <p class="font-semibold text-green-800">Torel Palace Porto Check-in
                                    <span id="modal-link-hotel2" class="text-xs text-green-500 cursor-pointer hover:underline ml-2">(Details)</span>
                                </p>
                                <p class="text-gray-600">Check-in from August 28 - 30</p>
                            </div>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-pink-50">
                            <i class="fas fa-utensils text-pink-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-pink-800">Dinner at The Door Rua das Taipas</p>
                        </div>
                    </div>
                </div>
                
                <!-- Day 6: Friday, August 29 -->
                <div id="day-aug-29" class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex flex-col md:flex-row md:justify-between items-start md:items-center mb-4">
                        <div class="flex-grow">
                            <h3 class="text-2xl font-bold text-gray-900">Friday, August 29 - Porto</h3>
                        </div>
                    </div>
                    <div class="space-y-4 text-sm">
                        <div class="flex items-center p-3 rounded-lg bg-yellow-50">
                            <i class="fas fa-wine-bottle text-yellow-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-yellow-800">Amit Tour Douro Valley</p>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-pink-50">
                            <i class="fas fa-utensils text-pink-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-pink-800">Private Dinner at 7:30 PM</p>
                        </div>
                    </div>
                </div>
                
                <!-- Day 7: Saturday, August 30 -->
                <div id="day-aug-30" class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex flex-col md:flex-row md:justify-between items-start md:items-center mb-4">
                        <div class="flex-grow">
                            <h3 class="text-2xl font-bold text-gray-900">Saturday, August 30 - Porto & Travel to Azores</h3>
                        </div>
                    </div>
                    <div class="space-y-4 text-sm">
                        <div class="flex items-center p-3 rounded-lg bg-green-50">
                            <i class="fas fa-hotel text-green-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-green-800">Porto Torel Palace Porto Check-out</p>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-yellow-50">
                            <i class="fas fa-walking text-yellow-500 mr-4 text-lg"></i>
                            <div>
                                <p class="font-semibold text-yellow-800">Amit Tour Porto
                                    <span id="modal-link-activity4" class="text-xs text-yellow-500 cursor-pointer hover:underline ml-2">(Details)</span>
                                </p>
                                <p class="text-gray-600">10:00 AM - 3:00 PM</p>
                            </div>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-blue-50">
                            <i class="fas fa-plane-departure text-blue-500 mr-4 text-lg"></i>
                            <div>
                                <p class="font-semibold text-blue-800">Flight: SATA S40173 (LIS-Azores)
                                    <span id="modal-link-flight3" class="text-xs text-blue-500 cursor-pointer hover:underline ml-2">(Details)</span>
                                </p>
                                <p class="text-gray-600">Departure: 7:35 PM, Arrival: 9:00 PM</p>
                            </div>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-green-50">
                            <i class="fas fa-hotel text-green-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-green-800">Azores Hotel Check-in
                                <span id="modal-link-hotel3" class="text-xs text-green-500 cursor-pointer hover:underline ml-2">(Details)</span>
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Day 8 - 12: Sunday, August 31 - Thursday, September 5 -->
                <div id="day-aug-31-sep-4" class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex flex-col md:flex-row md:justify-between items-start md:items-center mb-4">
                        <div class="flex-grow">
                            <h3 class="text-2xl font-bold text-gray-900">Sunday, August 31 - Thursday, September 5</h3>
                        </div>
                    </div>
                    <div class="space-y-4 text-sm">
                        <div class="flex items-center p-3 rounded-lg bg-purple-50">
                            <i class="fas fa-road text-purple-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-purple-800">Backroads Activities</p>
                        </div>
                    </div>
                </div>

                <!-- Day 13: Friday, September 5 -->
                <div id="day-sep-5" class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex flex-col md:flex-row md:justify-between items-start md:items-center mb-4">
                        <div class="flex-grow">
                            <h3 class="text-2xl font-bold text-gray-900">Friday, September 5 - Azores</h3>
                        </div>
                    </div>
                    <div class="space-y-4 text-sm">
                        <div class="flex items-center p-3 rounded-lg bg-green-50">
                            <i class="fas fa-hotel text-green-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-green-800">Grand Hotel Azores AtlÃ¢ntico
                                <span id="modal-link-hotel4" class="text-xs text-green-500 cursor-pointer hover:underline ml-2">(Details)</span>
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Day 14: Saturday, September 6 -->
                <div id="day-sep-6" class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex flex-col md:flex-row md:justify-between items-start md:items-center mb-4">
                        <div class="flex-grow">
                            <h3 class="text-2xl font-bold text-gray-900">Saturday, September 6 - Departure</h3>
                        </div>
                    </div>
                    <div class="space-y-4 text-sm">
                        <div class="flex items-center p-3 rounded-lg bg-green-50">
                            <i class="fas fa-hotel text-green-500 mr-4 text-lg"></i>
                            <p class="font-semibold text-green-800">Azores Hotel Check-out</p>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-blue-50">
                            <i class="fas fa-plane-departure text-blue-500 mr-4 text-lg"></i>
                            <div>
                                <p class="font-semibold text-blue-800">Flight: SATA S40283 (Azores-BOS)
                                    <span id="modal-link-flight4" class="text-xs text-blue-500 cursor-pointer hover:underline ml-2">(Details)</span>
                                </p>
                                <p class="text-gray-600">Departure: 8:35 AM, Arrival: 10:20 AM</p>
                            </div>
                        </div>
                        <div class="flex items-center p-3 rounded-lg bg-blue-50">
                            <i class="fas fa-plane-departure text-blue-500 mr-4 text-lg"></i>
                            <div>
                                <p class="font-semibold text-blue-800">Flight: Delta DL2222 (BOS-DTW)
                                    <span id="modal-link-flight5" class="text-xs text-blue-500 cursor-pointer hover:underline ml-2">(Details)</span>
                                </p>
                                <p class="text-gray-600">Departure: 12:55 PM, Arrival: 3:05 PM</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Suggestions Section -->
            <div id="ai-suggestions-container" class="mt-8">
                <!-- This section will be populated by AI suggestions -->
            </div>
        </div>

        <!-- The Modal Container -->
        <div id="modal-container" class="hidden modal">
            <div class="modal-content">
                <div class="flex justify-between items-center mb-4">
                    <h3 id="modal-title" class="text-xl font-bold text-gray-900"></h3>
                    <button id="modal-close" class="text-gray-500 hover:text-gray-800 text-2xl font-bold">&times;</button>
                </div>
                <div id="modal-body" class="text-gray-700"></div>
            </div>
        </div>
    </div>

    <script>
        // Data for the modal pop-ups
        const modalData = {
            'modal-link-flight1': { title: 'Flight Details', content: 'Airline: Delta<br>Flight #: 1707<br>Notes: DTW-BOS' },
            'modal-link-flight2': { title: 'Flight Details', content: 'Airline: Delta<br>Flight #: 0124<br>Notes: BOS-LIS' },
            'modal-link-hotel1': { title: 'Accommodation Details', content: 'Details: All 4 under AMF<br>Confirmation #: Expedia 73118888601825<br><br><b>Hotel Website:</b><br><a href="https://www.hoteldabaixa.com/en/" target="_blank" class="text-blue-500 hover:underline">https://www.hoteldabaixa.com/en/</a>' },
            'modal-link-activity1': { title: 'Activity Details', content: 'Notes: free cancellation' },
            'modal-link-activity2': { title: 'Activity Details', content: 'Notes: Nuno Tuk, 420 Euros' },
            'modal-link-explore1': { title: 'Open--Explore Lisbon Details', content: 'Possible places to explore: Pink & Green Streets, Arch.' },
            'modal-link-explore2': { title: 'Open--Explore Lisbon Details', content: 'Explore the Alfama district, or take a scenic tram ride.' },
            'modal-link-activity3': { title: 'Activity Details', content: 'Notes: Tour Booked with Carlos Godinho +351910831988.<br>Link: <a href="https://www.premiumtours.pt/pt/tours/passeio-privado-sintra-2-2/" target="_blank" class="text-blue-500 hover:underline">https://www.premiumtours.pt/pt/tours/passeio-privado-sintra-2-2/</a>' },
            'modal-link-van1': { title: 'Van to Hotel Details', content: 'TOPTOUR PORTUGALÂ®<br>+351217151675<br>Booked on Trip Advisor, For other questions, contact:<br>Viator Customer Care<br>702-939-9839' },
            'modal-link-travel1': { title: 'Van to Porto Details', content: 'Notes: Aveiro, Obidos and Nazare<br>Confirmation #: AMF Deposit Paid<br><br><b>Van Contact Info:</b><br>Fernando Madeira<br>Lisbon Private Transfers<br>+351 968 376 643 WhatsApp<br>www.lisbonprivatetransfers.com<br>fernando@lisbonprivatetransfers.com' },
            'modal-link-hotel2': { title: 'Accommodation Details', content: 'Details: All 4 under AMF<br>Confirmation #: Expedia itinerary: 73038457669454<br><br><b>Expedia Itinerary:</b><br><a href="https://www.expedia.com/trips/egti-FR2-87A-PRY9/details/NWNhNjY2NGYtZTAxOS01NDdjLTk5ZmYtZjNiMDgxMGZiYzE5O2U3ZjI3YzE5LTAwN2ItNGM0Yy04MDVjLTRiZmI3NDBkODQ3Y18wO2VnOnByb3BlcnR5OjQ2ZWRlMDBmYjg0ZjI4ZGYzNTE2ZTVmYWM1MDQ1ZDg4" target="_blank" class="text-blue-500 hover:underline">https://www.expedia.com/trips/egti-FR2-87A-PRY9/details/...</a>' },
            'modal-link-activity4': { title: 'Activity Details', content: 'Notes: Leave Bac' },
            'modal-link-flight3': { title: 'Flight Details', content: 'Airline: SATA<br>Flight #: S40173<br>Notes: LIS-Azores' },
            'modal-link-hotel3': { title: 'Accommodation Details', content: 'Details: Jenn and Kirschner on one reservation - Shefman and Singer made separate resv<br>Confirmation #: Hotels.com 72060560675386' },
            'modal-link-hotel4': { title: 'Accommodation Details', content: 'Details: All 4 under AMF<br>Confirmation #: Expedia itinerary: 72064522526321' },
            'modal-link-flight4': { title: 'Flight Details', content: 'Airline: SATA<br>Flight #: S40283<br>Notes: Azores-BOS' },
            'modal-link-flight5': { title: 'Flight Details', content: 'Airline: Delta<br>Flight #: DL2222<br>Notes: BOS-DTW' }
        };

        // Date mappings for scrolling to a specific day
        const dateMappings = {
            'Aug 24': 'day-aug-24',
            'Aug 25': 'day-aug-25',
            'Aug 26': 'day-aug-26',
            'Aug 27': 'day-aug-27',
            'Aug 28': 'day-aug-28',
            'Aug 29': 'day-aug-29',
            'Aug 30': 'day-aug-30',
            'Aug 31': 'day-aug-31-sep-4',
            'Sep 1': 'day-aug-31-sep-4',
            'Sep 2': 'day-aug-31-sep-4',
            'Sep 3': 'day-aug-31-sep-4',
            'Sep 4': 'day-aug-31-sep-4',
            'Sep 5': 'day-sep-5',
            'Sep 6': 'day-sep-6'
        };

        document.addEventListener('DOMContentLoaded', () => {
            const videoModal = document.getElementById('video-intro-modal');
            const video = document.getElementById('intro-video');
            const mainContent = document.getElementById('main-content');
            
            // This event listener handles the transition once the video has finished playing
            video.addEventListener('ended', () => {
                videoModal.classList.add('fade-out');
                setTimeout(() => {
                    videoModal.style.display = 'none';
                    mainContent.classList.remove('hidden-content');
                }, 1000); // This timeout matches the CSS transition duration
            });

            // Fallback in case the video fails to autoplay or is paused
            setTimeout(() => {
                if (!video.ended) {
                    videoModal.classList.add('fade-out');
                    setTimeout(() => {
                        videoModal.style.display = 'none';
                        mainContent.classList.remove('hidden-content');
                    }, 1000);
                }
            }, 2000); // 2-second timeout

            // "Today" button logic
            const todayButton = document.getElementById('today-button');
            if (todayButton) {
                // Use real current date
                todayButton.addEventListener('click', () => {
                    const today = new Date();
                    const month = today.toLocaleString('en-us', { month: 'short' });
                    const day = today.getDate();
                    const todayString = `${month} ${day}`;

                    const elementId = dateMappings[todayString] || 'day-aug-24'; // Fallback to first day
                    const todayCard = document.getElementById(elementId);
                    if (todayCard) {
                        todayCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            }

            // Attach event listeners for modal links
            Object.keys(modalData).forEach(id => {
                const link = document.getElementById(id);
                if (link) {
                    link.addEventListener('click', () => showModal(modalData[id].title, modalData[id].content));
                }
            });

            // Attach event listener for modal close button
            document.getElementById('modal-close').addEventListener('click', closeModal);
            document.getElementById('modal-container').addEventListener('click', (e) => {
                if (e.target.id === 'modal-container') {
                    closeModal();
                }
            });
        });

        // Function to show the modal with custom content
        function showModal(title, content) {
            const modalContainer = document.getElementById('modal-container');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');

            modalTitle.innerHTML = title;
            modalBody.innerHTML = content;
            modalContainer.classList.remove('hidden');
        }

        // Function to close the modal
        function closeModal() {
            const modalContainer = document.getElementById('modal-container');
            modalContainer.classList.add('hidden');
        }
    </script>
</body>
</html>
